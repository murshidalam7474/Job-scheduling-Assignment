# Job-scheduling-Assignment


A FastAPI-based job management system that allows you to create, list, and run jobs with scheduling capabilities.

## Requirements

- Python 3.8+
- FastAPI
- Pydantic
- SQLAlchemy
- mysql-connector-python
- Uvicorn
- Schedule
- Pytz

**Note:** Update the database URL in the code with your MySQL connection details:

DATABASE_URL = "mysql+mysqlconnector://{your_db_username}:{your_db_password}@localhost/jobsdb"


## Install Dependencies

Install the required packages using pip:
example: pip install fastapi pydantic sqlalchemy mysql-connector-python uvicorn


## Database Schema

The database schema includes the following table:

**Job**: Represents a job with the following fields:
- `id`: Integer, primary key.
- `name`: String, name of the job.
- `description`: String, description of the job.
- `last_run`: DateTime, timestamp of the last run.
- `next_run`: DateTime, timestamp of the next scheduled run.
- `interval`: String, interval for the job scheduling.
- `day_of_week`: String, day of the week for the job (newly added).
- `time_of_day`: String, time of day for the job (newly added).

## Additional Requirements
-`BackgroundTasks`: Utilized for handling background job scheduling in FastAPI.  
-`Threading`: Required for running the job scheduler in a separate thread.  
-`Timezone Handling`: Pytz is used for converting UTC time to India Standard Time (Asia/Kolkata).

## Note: If you have already created previously the jobs table, run the following command in your MySQL prompt to add the new fields:
ALTER TABLE jobs
ADD COLUMN day_of_week VARCHAR(20) NULL,
ADD COLUMN time_of_day VARCHAR(5) NULL;

##  Interact with FastAPI Application Using API Documentation

The API documentation is automatically generated by FastAPI. To view the documentation, run the application and navigate to the provided URL.

Run the application with:
uvicorn main:app --reload

Open your browser and go to: http://127.0.0.1:8000/docs


## Interact with FastAPI Application Using HTTPie

You can use command-line tools like HTTPie to interact with the FastAPI application.

### Install HTTPie

### List Jobs 
 to list all the jobs you can go to this link http://127.0.0.1:8000/jobs.

### Create a Job 
To create a job using cmd:  
http POST http://127.0.0.1:8000/jobs name="Weekly Backup" description="Backup database" day_of_week="Monday" time_of_day="21:00"

### Run a Job
To run a job:
http POST http://127.0.0.1:8000/jobs/run/{job_id}


## Scaling

To achieve scaling, consider the following strategies:

- **Microservices Architecture**: Break down the application into smaller microservices.
- **Database Scaling**: Distribute read operations to read replicas, reducing load on the primary database.
- **Load Balancing**: Use load balancers to evenly distribute traffic across multiple instances.
- **API Management**: Use caching (e.g., Redis) for frequently accessed data to reduce database queries.




